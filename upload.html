<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>æäº¤æ¢¦å¢ƒ Â· Dodva Universe</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .container {max-width: 680px; margin: 40px auto; padding: 20px;}
    .card {background: rgba(255,255,255,0.05); border-radius: 12px; padding: 20px;}
    label {display: block; margin-bottom: 14px;}
    input, textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 8px;
      background: rgba(0,0,0,0.25);
      color: #fff;
    }
    button {
      padding: 10px 16px;
      border: none;
      border-radius: 8px;
      background: rgba(255,255,255,0.15);
      color: #fff;
      cursor: pointer;
    }
    button:hover {background: rgba(255,255,255,0.25);}
  </style>
</head>
<body>

<header>
  <div>ğŸŒŒ Dodva Universe</div>
  <nav>
    <a href="index.html">é¦–é¡µ</a>
    <a href="dream-map.html">Dream Map</a>
    <a href="gallery.html">Gallery</a>
  </nav>
</header>

<div class="container">
  <div class="card">
    <h2>ğŸ“ æäº¤æ¢¦å¢ƒ</h2>

<form id="dreamForm">
  <label>
    æ˜µç§°ï¼š
    <input type="text" name="nickname" placeholder="ä½ çš„åå­—" required>
  </label>
  <label>
    æ¢¦å¢ƒæ ‡é¢˜ï¼š
    <input type="text" name="title" placeholder="æ¢¦å¢ƒæ ‡é¢˜" required>
  </label>
  <label>
    æ¢¦å¢ƒæè¿°ï¼š
    <textarea name="description" rows="5" placeholder="å†™ä¸‹ç”»é¢ã€æƒ…ç»ªã€å¯ç¤ºâ€¦" required></textarea>
  </label>
  <label>
    å…³é”®è¯ï¼ˆé€—å·åˆ†éš”ï¼‰ï¼š
    <input type="text" name="tags" placeholder="æ˜Ÿäº‘,æµ·å²›,ç«ç‘°">
  </label>
  <label>
    çº¬åº¦ï¼š
    <input type="number" name="lat" step="0.0001" placeholder="å¦‚ 22.33">
  </label>
  <label>
    ç»åº¦ï¼š
    <input type="number" name="lng" step="0.0001" placeholder="å¦‚ 55.66">
  </label>
  <label>
    å›¾ç‰‡é“¾æ¥ï¼š
    <input type="url" name="image" placeholder="https://...">
  </label>
  <button type="submit">âœ¨ å‘å¸ƒæ¢¦å¢ƒ</button>
</form>

<script>
document.getElementById('dreamForm').addEventListener('submit', async function(e) {
  e.preventDefault();

  const formData = new FormData(e.target);
  const dream = {
    id: Date.now(),
    nickname: formData.get('nickname'),
    title: formData.get('title'),
    description: formData.get('description'),
    tags: formData.get('tags').split(',').map(t => t.trim()),
    lat: parseFloat(formData.get('lat') || 0),
    lng: parseFloat(formData.get('lng') || 0),
    image: formData.get('image') || "",
    createdAt: new Date().toISOString()
  };

  // å‘åˆ° Zapier Webhookï¼ˆæ›¿æ¢ä¸ºä½ çš„ Zapier Webhook URLï¼‰
  const res = await fetch('https://hooks.zapier.com/hooks/catch/ä½ çš„ID', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(dream)
  });

  if (res.ok) {
    alert('âœ… æ¢¦å¢ƒæäº¤æˆåŠŸï¼');
    e.target.reset();
  } else {
    alert('âŒ æäº¤å¤±è´¥ï¼Œè¯·é‡è¯•');
  }
});
</script>